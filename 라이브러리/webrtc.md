## WebRTC

WebRTC의 키워드로는, 3가지가 있다. P2P, STUN, TURN.
차례대로 이해하면 바로 이해하기 쉽다.

우선 WebRTC(Web Real-Time Communication) 패키지는 real-time에 가까운 실시간 스트리밍을 지원한다. 또한 P2P (Peer-to-Peer) 종단 간 통신을 지원하여, 훌륭한 보안성을 지니고 있다.

### P2P란?

종단 간 통신을 의미하며, 각 피어끼리만 연결을 하여금 거치는 기기 혹은 서버 없이 더 안전한 연결과 빠른 통신을 할 수 있습니다. 예시론 줌이나 디스코드가 대표적으로 WebRTC를 이용한 P2P 통신을 이용한다.

### STUN 서버란?

위와 같은 통신을 하기 위해선 서로의 아이피를 알고, 보내줘야 한다. 이때 이 STUN 서버가 쓰인다.
당연하게도 서로 통신하려면 통신 프로토콜의 기반이 되는 아이피를 알아야 할 것이다. 상대가 누군지도 모르는데 보낼 수 없으니 말이다.

통신을 시작하는 Peer가, STUN 서버에 요청을 보내면 STUN 서버는 Peer가 NAT/Firewall 뒤에 있는지 확인하고 Peer의 Public IP(공개 주소) 와 함께 리턴해준다. 서로 통신을 할 수 있는지가 위의 리턴 값에서 정해진다.

종단 간 통신의 특징상 NAT/Firewall의 존재 시, 서로 직접적인 통신이 불가능할 수 있다. 하지만 방법이 없는 게 아닌, 아래의 TURN 서버를 이용할 수 있다.

### TURN 서버란?

만약 위의 STUN 서버 통신 값상 통신이 불가능하다면, TURN 서버를 통하여 서로 간의 통신이 가능하다. 이 상황에선 P2P 통신이 아닌 중계 통신이 된다.

TURN(Traversal Using Relays around NAT) 서버는 Peer 간 직접 통신이 실패할 경우 종단점들 사이에 데이터 릴레이를 수행하는 TURN 서버를 사용한다. TURN은 Peer 간의 미디어 스트리밍을 릴레이 하기 위해 사용된다. 미디어를 릴레이 하기 때문에 네트워크와 컴퓨팅 자원이 소모될 수 있다.
